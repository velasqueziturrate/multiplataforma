/// <reference path="references.d.ts" />
import { Component, Input, ElementRef, Inject, ViewContainerRef, Directive, EventEmitter, Output, NgModule } from "@angular/core";
import { registerElement, } from "@nativescript/angular";
import { RadSideDrawer } from "nativescript-ui-sidedrawer";
const TKDRAWERCONTENT = "TKDrawerContent";
const TKMAINCONTENT = "TKMainContent";
/**
* This is the SideDrawer component. It separates your mobile app's screen
* into a main part and a menu part whereby the menu part is shown upon a swipe
* gesture using a transition effect.
*/
export class RadSideDrawerComponent {
    constructor(elementRef, viewContainer) {
        this.elementRef = elementRef;
        this.viewContainer = viewContainer;
        this.drawerOpening = new EventEmitter();
        this.drawerOpen = new EventEmitter();
        this.drawerClosing = new EventEmitter();
        this.drawerClosed = new EventEmitter();
        this.sideDrawer = this.elementRef.nativeElement;
    }
    /**
      * [Deprecated: Please use the 'drawerTransition' property instead].
      */
    set transition(transition) {
        this.sideDrawer.drawerTransition = transition;
    }
    get nativeElement() {
        return this.sideDrawer;
    }
    /**
      * Defines either the width or the height
      * of the menu pane depending on the location of the SideDrawer.
      * Top or Bottom - height, Right or Left - width.
      */
    set drawerContentSize(value) {
        this._drawerContentSize = value;
        this.updateContentSize();
    }
    set gesturesEnabled(value) {
        this._gesturesEnabled = value;
        this.updateGesturesEnabled();
    }
    set drawerTransition(value) {
        this._drawerTransition = value;
        this.updateDrawerTransition();
    }
    set drawerLocation(value) {
        this._drawerLocation = value;
        this.updateDrawerLocation();
    }
    updateDrawerLocation() {
        this.sideDrawer.drawerLocation = this._drawerLocation;
    }
    updateDrawerTransition() {
        this.sideDrawer.drawerTransition = this._drawerTransition;
    }
    updateGesturesEnabled() {
        this.sideDrawer.gesturesEnabled = this._gesturesEnabled;
    }
    updateContentSize() {
        this.sideDrawer.drawerContentSize = this._drawerContentSize;
    }
}
RadSideDrawerComponent.decorators = [
    { type: Component, args: [{
                selector: 'RadSideDrawer',
                template: "<ng-content></ng-content>"
            },] }
];
RadSideDrawerComponent.ctorParameters = () => [
    { type: ElementRef, decorators: [{ type: Inject, args: [ElementRef,] }] },
    { type: ViewContainerRef, decorators: [{ type: Inject, args: [ViewContainerRef,] }] }
];
RadSideDrawerComponent.propDecorators = {
    drawerOpening: [{ type: Output }],
    drawerOpen: [{ type: Output }],
    drawerClosing: [{ type: Output }],
    drawerClosed: [{ type: Output }],
    transition: [{ type: Input }]
};
/**
 * Directive identifying the drawer content.
 */
export class TKDrawerContentDirective {
    constructor(_elementRef) {
        this._elementRef = _elementRef;
        this._elementRef.nativeElement.id = TKDRAWERCONTENT;
    }
}
TKDrawerContentDirective.decorators = [
    { type: Directive, args: [{
                selector: "[tkDrawerContent]"
            },] }
];
TKDrawerContentDirective.ctorParameters = () => [
    { type: ElementRef, decorators: [{ type: Inject, args: [ElementRef,] }] }
];
/**
 * Directive identifying the main content.
 */
export class TKMainContentDirective {
    constructor(_elementRef) {
        this._elementRef = _elementRef;
        this._elementRef.nativeElement.id = TKMAINCONTENT;
    }
}
TKMainContentDirective.decorators = [
    { type: Directive, args: [{
                selector: "[tkMainContent]"
            },] }
];
TKMainContentDirective.ctorParameters = () => [
    { type: ElementRef, decorators: [{ type: Inject, args: [ElementRef,] }] }
];
const ɵ0 = (parent, child) => {
    const drawer = parent;
    const childView = child;
    if (childView.id === TKMAINCONTENT) {
        drawer.mainContent = childView;
    }
    if (childView.id === TKDRAWERCONTENT) {
        drawer.drawerContent = childView;
    }
}, ɵ1 = (parent, child) => {
    const drawer = parent;
    const childView = child;
    if (childView.id === TKMAINCONTENT) {
        drawer.mainContent = null;
    }
    if (childView.id === TKDRAWERCONTENT) {
        drawer.drawerContent = null;
    }
};
let sideDrawerMeta = {
    insertChild: ɵ0,
    removeChild: ɵ1,
};
/**
 * Directives identifying the RadSideDrawer.
 */
export const SIDEDRAWER_DIRECTIVES = [RadSideDrawerComponent, TKDrawerContentDirective, TKMainContentDirective];
registerElement("RadSideDrawer", () => RadSideDrawer, sideDrawerMeta);
/**
 * NgModule containing all of the RadSideDrawer directives.
 */
export class NativeScriptUISideDrawerModule {
}
NativeScriptUISideDrawerModule.decorators = [
    { type: NgModule, args: [{
                declarations: [SIDEDRAWER_DIRECTIVES],
                exports: [SIDEDRAWER_DIRECTIVES]
            },] }
];
export { ɵ0, ɵ1 };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSx3Q0FBd0M7QUFDeEMsT0FBTyxFQUNILFNBQVMsRUFDVCxLQUFLLEVBQ0wsVUFBVSxFQUNWLE1BQU0sRUFHTixnQkFBZ0IsRUFDaEIsU0FBUyxFQUNULFlBQVksRUFDWixNQUFNLEVBQ04sUUFBUSxFQUNYLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFHSCxlQUFlLEdBQ2xCLE1BQU0sdUJBQXVCLENBQUM7QUFDL0IsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLDRCQUE0QixDQUFDO0FBRTNELE1BQU0sZUFBZSxHQUFXLGlCQUFpQixDQUFDO0FBQ2xELE1BQU0sYUFBYSxHQUFXLGVBQWUsQ0FBQztBQVE5Qzs7OztFQUlFO0FBS0YsTUFBTSxPQUFPLHNCQUFzQjtJQXVCL0IsWUFDK0IsVUFBc0IsRUFDZixhQUErQjtRQUR0QyxlQUFVLEdBQVYsVUFBVSxDQUFZO1FBQ2Ysa0JBQWEsR0FBYixhQUFhLENBQWtCO1FBZnBELGtCQUFhLEdBQXNCLElBQUksWUFBWSxFQUFFLENBQUM7UUFDdEQsZUFBVSxHQUFzQixJQUFJLFlBQVksRUFBRSxDQUFDO1FBQ25ELGtCQUFhLEdBQXNCLElBQUksWUFBWSxFQUFFLENBQUM7UUFDdEQsaUJBQVksR0FBc0IsSUFBSSxZQUFZLEVBQUUsQ0FBQztRQWNsRSxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsYUFBYSxDQUFDO0lBQ3BELENBQUM7SUFiRDs7UUFFSTtJQUNKLElBQ0ksVUFBVSxDQUFDLFVBQWU7UUFDMUIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxnQkFBZ0IsR0FBRyxVQUFVLENBQUM7SUFDbEQsQ0FBQztJQVNELElBQVcsYUFBYTtRQUNwQixPQUFPLElBQUksQ0FBQyxVQUFVLENBQUM7SUFDM0IsQ0FBQztJQUVEOzs7O1FBSUk7SUFDSixJQUFJLGlCQUFpQixDQUFDLEtBQWE7UUFDL0IsSUFBSSxDQUFDLGtCQUFrQixHQUFHLEtBQUssQ0FBQztRQUNoQyxJQUFJLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztJQUM3QixDQUFDO0lBRUQsSUFBSSxlQUFlLENBQUMsS0FBYztRQUM5QixJQUFJLENBQUMsZ0JBQWdCLEdBQUcsS0FBSyxDQUFDO1FBQzlCLElBQUksQ0FBQyxxQkFBcUIsRUFBRSxDQUFDO0lBQ2pDLENBQUM7SUFFRCxJQUFJLGdCQUFnQixDQUFDLEtBQWE7UUFDOUIsSUFBSSxDQUFDLGlCQUFpQixHQUFHLEtBQUssQ0FBQztRQUMvQixJQUFJLENBQUMsc0JBQXNCLEVBQUUsQ0FBQztJQUNsQyxDQUFDO0lBRUQsSUFBSSxjQUFjLENBQUMsS0FBYTtRQUM1QixJQUFJLENBQUMsZUFBZSxHQUFHLEtBQUssQ0FBQztRQUM3QixJQUFJLENBQUMsb0JBQW9CLEVBQUUsQ0FBQztJQUNoQyxDQUFDO0lBRU8sb0JBQW9CO1FBQ3hCLElBQUksQ0FBQyxVQUFVLENBQUMsY0FBYyxHQUFRLElBQUksQ0FBQyxlQUFlLENBQUM7SUFDL0QsQ0FBQztJQUVPLHNCQUFzQjtRQUMxQixJQUFJLENBQUMsVUFBVSxDQUFDLGdCQUFnQixHQUFRLElBQUksQ0FBQyxpQkFBaUIsQ0FBQztJQUNuRSxDQUFDO0lBRU8scUJBQXFCO1FBQ3pCLElBQUksQ0FBQyxVQUFVLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQztJQUM1RCxDQUFDO0lBRU8saUJBQWlCO1FBQ3JCLElBQUksQ0FBQyxVQUFVLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxDQUFDLGtCQUFrQixDQUFDO0lBQ2hFLENBQUM7OztZQTdFSixTQUFTLFNBQUM7Z0JBQ1AsUUFBUSxFQUFFLGVBQWU7Z0JBQ3pCLFFBQVEsRUFBRSwyQkFBMkI7YUFDeEM7OztZQWxDRyxVQUFVLHVCQTJETCxNQUFNLFNBQUMsVUFBVTtZQXZEdEIsZ0JBQWdCLHVCQXdEWCxNQUFNLFNBQUMsZ0JBQWdCOzs7NEJBZjNCLE1BQU07eUJBQ04sTUFBTTs0QkFDTixNQUFNOzJCQUNOLE1BQU07eUJBS04sS0FBSzs7QUEwRFY7O0dBRUc7QUFJSCxNQUFNLE9BQU8sd0JBQXdCO0lBQ2pDLFlBQXlDLFdBQXVCO1FBQXZCLGdCQUFXLEdBQVgsV0FBVyxDQUFZO1FBQzVELElBQUksQ0FBQyxXQUFXLENBQUMsYUFBYSxDQUFDLEVBQUUsR0FBRyxlQUFlLENBQUM7SUFDeEQsQ0FBQzs7O1lBTkosU0FBUyxTQUFDO2dCQUNQLFFBQVEsRUFBRSxtQkFBbUI7YUFDaEM7OztZQXBIRyxVQUFVLHVCQXNISSxNQUFNLFNBQUMsVUFBVTs7QUFLbkM7O0dBRUc7QUFJSCxNQUFNLE9BQU8sc0JBQXNCO0lBQy9CLFlBQXlDLFdBQXVCO1FBQXZCLGdCQUFXLEdBQVgsV0FBVyxDQUFZO1FBQzVELElBQUksQ0FBQyxXQUFXLENBQUMsYUFBYSxDQUFDLEVBQUUsR0FBRyxhQUFhLENBQUM7SUFDdEQsQ0FBQzs7O1lBTkosU0FBUyxTQUFDO2dCQUNQLFFBQVEsRUFBRSxpQkFBaUI7YUFDOUI7OztZQWhJRyxVQUFVLHVCQWtJSSxNQUFNLFNBQUMsVUFBVTs7V0FNbEIsQ0FBQyxNQUFjLEVBQUUsS0FBYSxFQUFFLEVBQUU7SUFDM0MsTUFBTSxNQUFNLEdBQXdCLE1BQU8sQ0FBQztJQUM1QyxNQUFNLFNBQVMsR0FBUSxLQUFLLENBQUM7SUFFN0IsSUFBSSxTQUFTLENBQUMsRUFBRSxLQUFLLGFBQWEsRUFBRTtRQUNoQyxNQUFNLENBQUMsV0FBVyxHQUFHLFNBQVMsQ0FBQztLQUNsQztJQUVELElBQUksU0FBUyxDQUFDLEVBQUUsS0FBSyxlQUFlLEVBQUU7UUFDbEMsTUFBTSxDQUFDLGFBQWEsR0FBRyxTQUFTLENBQUM7S0FDcEM7QUFDTCxDQUFDLE9BQ1ksQ0FBQyxNQUFjLEVBQUUsS0FBYSxFQUFFLEVBQUU7SUFDM0MsTUFBTSxNQUFNLEdBQXdCLE1BQU8sQ0FBQztJQUM1QyxNQUFNLFNBQVMsR0FBUSxLQUFLLENBQUM7SUFFN0IsSUFBSSxTQUFTLENBQUMsRUFBRSxLQUFLLGFBQWEsRUFBRTtRQUNoQyxNQUFNLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQztLQUM3QjtJQUVELElBQUksU0FBUyxDQUFDLEVBQUUsS0FBSyxlQUFlLEVBQUU7UUFDbEMsTUFBTSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUM7S0FDL0I7QUFDTCxDQUFDO0FBeEJMLElBQUksY0FBYyxHQUFrQjtJQUNoQyxXQUFXLElBV1Y7SUFDRCxXQUFXLElBV1Y7Q0FDSixDQUFDO0FBRUY7O0dBRUc7QUFDSCxNQUFNLENBQUMsTUFBTSxxQkFBcUIsR0FBRyxDQUFDLHNCQUFzQixFQUFFLHdCQUF3QixFQUFFLHNCQUFzQixDQUFDLENBQUM7QUFFaEgsZUFBZSxDQUFDLGVBQWUsRUFBRSxHQUFHLEVBQUUsQ0FBQyxhQUFhLEVBQUUsY0FBYyxDQUFDLENBQUM7QUFFdEU7O0dBRUc7QUFLSCxNQUFNLE9BQU8sOEJBQThCOzs7WUFKMUMsUUFBUSxTQUFDO2dCQUNOLFlBQVksRUFBRSxDQUFDLHFCQUFxQixDQUFDO2dCQUNyQyxPQUFPLEVBQUUsQ0FBQyxxQkFBcUIsQ0FBQzthQUNuQyIsInNvdXJjZXNDb250ZW50IjpbIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCJyZWZlcmVuY2VzLmQudHNcIiAvPlxuaW1wb3J0IHtcbiAgICBDb21wb25lbnQsXG4gICAgSW5wdXQsXG4gICAgRWxlbWVudFJlZixcbiAgICBJbmplY3QsXG4gICAgVGVtcGxhdGVSZWYsXG4gICAgRW1iZWRkZWRWaWV3UmVmLFxuICAgIFZpZXdDb250YWluZXJSZWYsXG4gICAgRGlyZWN0aXZlLFxuICAgIEV2ZW50RW1pdHRlcixcbiAgICBPdXRwdXQsXG4gICAgTmdNb2R1bGVcbn0gZnJvbSBcIkBhbmd1bGFyL2NvcmVcIjtcbmltcG9ydCB7XG4gICAgTmdWaWV3LFxuICAgIFZpZXdDbGFzc01ldGEsXG4gICAgcmVnaXN0ZXJFbGVtZW50LFxufSBmcm9tIFwiQG5hdGl2ZXNjcmlwdC9hbmd1bGFyXCI7XG5pbXBvcnQgeyBSYWRTaWRlRHJhd2VyIH0gZnJvbSBcIm5hdGl2ZXNjcmlwdC11aS1zaWRlZHJhd2VyXCI7XG5cbmNvbnN0IFRLRFJBV0VSQ09OVEVOVDogc3RyaW5nID0gXCJUS0RyYXdlckNvbnRlbnRcIjtcbmNvbnN0IFRLTUFJTkNPTlRFTlQ6IHN0cmluZyA9IFwiVEtNYWluQ29udGVudFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIEl0ZW1FdmVudEFyZ3Mge1xuICAgIG9iamVjdDogYW55O1xuICAgIHZpZXc6IEVtYmVkZGVkVmlld1JlZjxhbnk+O1xuICAgIHJldHVyblZhbHVlPzogYm9vbGVhbjtcbn1cblxuLyoqXG4qIFRoaXMgaXMgdGhlIFNpZGVEcmF3ZXIgY29tcG9uZW50LiBJdCBzZXBhcmF0ZXMgeW91ciBtb2JpbGUgYXBwJ3Mgc2NyZWVuXG4qIGludG8gYSBtYWluIHBhcnQgYW5kIGEgbWVudSBwYXJ0IHdoZXJlYnkgdGhlIG1lbnUgcGFydCBpcyBzaG93biB1cG9uIGEgc3dpcGVcbiogZ2VzdHVyZSB1c2luZyBhIHRyYW5zaXRpb24gZWZmZWN0LlxuKi9cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnUmFkU2lkZURyYXdlcicsXG4gICAgdGVtcGxhdGU6IFwiPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PlwiXG59KVxuZXhwb3J0IGNsYXNzIFJhZFNpZGVEcmF3ZXJDb21wb25lbnQge1xuICAgIHB1YmxpYyBzaWRlRHJhd2VyOiBSYWRTaWRlRHJhd2VyO1xuICAgIHB1YmxpYyBtYWluVGVtcGxhdGU6IFRlbXBsYXRlUmVmPEVsZW1lbnRSZWY+O1xuICAgIHB1YmxpYyBkcmF3ZXJUZW1wbGF0ZTogVGVtcGxhdGVSZWY8RWxlbWVudFJlZj47XG5cbiAgICBwcml2YXRlIF9kcmF3ZXJDb250ZW50U2l6ZTogbnVtYmVyO1xuICAgIHByaXZhdGUgX2dlc3R1cmVzRW5hYmxlZDogYm9vbGVhbjtcbiAgICBwcml2YXRlIF9kcmF3ZXJUcmFuc2l0aW9uOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBfZHJhd2VyTG9jYXRpb246IHN0cmluZztcblxuICAgIEBPdXRwdXQoKSBwdWJsaWMgZHJhd2VyT3BlbmluZzogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgQE91dHB1dCgpIHB1YmxpYyBkcmF3ZXJPcGVuOiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICBAT3V0cHV0KCkgcHVibGljIGRyYXdlckNsb3Npbmc6IEV2ZW50RW1pdHRlcjxhbnk+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgIEBPdXRwdXQoKSBwdWJsaWMgZHJhd2VyQ2xvc2VkOiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAgIC8qKlxuICAgICAgKiBbRGVwcmVjYXRlZDogUGxlYXNlIHVzZSB0aGUgJ2RyYXdlclRyYW5zaXRpb24nIHByb3BlcnR5IGluc3RlYWRdLlxuICAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIHNldCB0cmFuc2l0aW9uKHRyYW5zaXRpb246IGFueSkge1xuICAgICAgICB0aGlzLnNpZGVEcmF3ZXIuZHJhd2VyVHJhbnNpdGlvbiA9IHRyYW5zaXRpb247XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIEBJbmplY3QoRWxlbWVudFJlZikgcHVibGljIGVsZW1lbnRSZWY6IEVsZW1lbnRSZWYsXG4gICAgICAgIEBJbmplY3QoVmlld0NvbnRhaW5lclJlZikgcHJpdmF0ZSB2aWV3Q29udGFpbmVyOiBWaWV3Q29udGFpbmVyUmVmXG4gICAgKSB7XG4gICAgICAgIHRoaXMuc2lkZURyYXdlciA9IHRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50O1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgbmF0aXZlRWxlbWVudCgpOiBSYWRTaWRlRHJhd2VyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2lkZURyYXdlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgICogRGVmaW5lcyBlaXRoZXIgdGhlIHdpZHRoIG9yIHRoZSBoZWlnaHRcbiAgICAgICogb2YgdGhlIG1lbnUgcGFuZSBkZXBlbmRpbmcgb24gdGhlIGxvY2F0aW9uIG9mIHRoZSBTaWRlRHJhd2VyLlxuICAgICAgKiBUb3Agb3IgQm90dG9tIC0gaGVpZ2h0LCBSaWdodCBvciBMZWZ0IC0gd2lkdGguXG4gICAgICAqL1xuICAgIHNldCBkcmF3ZXJDb250ZW50U2l6ZSh2YWx1ZTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuX2RyYXdlckNvbnRlbnRTaXplID0gdmFsdWU7XG4gICAgICAgIHRoaXMudXBkYXRlQ29udGVudFNpemUoKTtcbiAgICB9XG5cbiAgICBzZXQgZ2VzdHVyZXNFbmFibGVkKHZhbHVlOiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuX2dlc3R1cmVzRW5hYmxlZCA9IHZhbHVlO1xuICAgICAgICB0aGlzLnVwZGF0ZUdlc3R1cmVzRW5hYmxlZCgpO1xuICAgIH1cblxuICAgIHNldCBkcmF3ZXJUcmFuc2l0aW9uKHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fZHJhd2VyVHJhbnNpdGlvbiA9IHZhbHVlO1xuICAgICAgICB0aGlzLnVwZGF0ZURyYXdlclRyYW5zaXRpb24oKTtcbiAgICB9XG5cbiAgICBzZXQgZHJhd2VyTG9jYXRpb24odmFsdWU6IHN0cmluZykge1xuICAgICAgICB0aGlzLl9kcmF3ZXJMb2NhdGlvbiA9IHZhbHVlO1xuICAgICAgICB0aGlzLnVwZGF0ZURyYXdlckxvY2F0aW9uKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVEcmF3ZXJMb2NhdGlvbigpIHtcbiAgICAgICAgdGhpcy5zaWRlRHJhd2VyLmRyYXdlckxvY2F0aW9uID0gPGFueT50aGlzLl9kcmF3ZXJMb2NhdGlvbjtcbiAgICB9XG5cbiAgICBwcml2YXRlIHVwZGF0ZURyYXdlclRyYW5zaXRpb24oKSB7XG4gICAgICAgIHRoaXMuc2lkZURyYXdlci5kcmF3ZXJUcmFuc2l0aW9uID0gPGFueT50aGlzLl9kcmF3ZXJUcmFuc2l0aW9uO1xuICAgIH1cblxuICAgIHByaXZhdGUgdXBkYXRlR2VzdHVyZXNFbmFibGVkKCkge1xuICAgICAgICB0aGlzLnNpZGVEcmF3ZXIuZ2VzdHVyZXNFbmFibGVkID0gdGhpcy5fZ2VzdHVyZXNFbmFibGVkO1xuICAgIH1cblxuICAgIHByaXZhdGUgdXBkYXRlQ29udGVudFNpemUoKSB7XG4gICAgICAgIHRoaXMuc2lkZURyYXdlci5kcmF3ZXJDb250ZW50U2l6ZSA9IHRoaXMuX2RyYXdlckNvbnRlbnRTaXplO1xuICAgIH1cbn1cblxuLyoqXG4gKiBEaXJlY3RpdmUgaWRlbnRpZnlpbmcgdGhlIGRyYXdlciBjb250ZW50LlxuICovXG5ARGlyZWN0aXZlKHtcbiAgICBzZWxlY3RvcjogXCJbdGtEcmF3ZXJDb250ZW50XVwiXG59KVxuZXhwb3J0IGNsYXNzIFRLRHJhd2VyQ29udGVudERpcmVjdGl2ZSB7XG4gICAgY29uc3RydWN0b3IoIEBJbmplY3QoRWxlbWVudFJlZikgcHJpdmF0ZSBfZWxlbWVudFJlZjogRWxlbWVudFJlZikge1xuICAgICAgICB0aGlzLl9lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQuaWQgPSBUS0RSQVdFUkNPTlRFTlQ7XG4gICAgfVxufVxuXG4vKipcbiAqIERpcmVjdGl2ZSBpZGVudGlmeWluZyB0aGUgbWFpbiBjb250ZW50LlxuICovXG5ARGlyZWN0aXZlKHtcbiAgICBzZWxlY3RvcjogXCJbdGtNYWluQ29udGVudF1cIlxufSlcbmV4cG9ydCBjbGFzcyBUS01haW5Db250ZW50RGlyZWN0aXZlIHtcbiAgICBjb25zdHJ1Y3RvciggQEluamVjdChFbGVtZW50UmVmKSBwcml2YXRlIF9lbGVtZW50UmVmOiBFbGVtZW50UmVmKSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnRSZWYubmF0aXZlRWxlbWVudC5pZCA9IFRLTUFJTkNPTlRFTlQ7XG4gICAgfVxufVxuXG5sZXQgc2lkZURyYXdlck1ldGE6IFZpZXdDbGFzc01ldGEgPSB7XG4gICAgaW5zZXJ0Q2hpbGQ6IChwYXJlbnQ6IE5nVmlldywgY2hpbGQ6IE5nVmlldykgPT4ge1xuICAgICAgICBjb25zdCBkcmF3ZXIgPSA8UmFkU2lkZURyYXdlcj4oPGFueT5wYXJlbnQpO1xuICAgICAgICBjb25zdCBjaGlsZFZpZXcgPSA8YW55PmNoaWxkO1xuXG4gICAgICAgIGlmIChjaGlsZFZpZXcuaWQgPT09IFRLTUFJTkNPTlRFTlQpIHtcbiAgICAgICAgICAgIGRyYXdlci5tYWluQ29udGVudCA9IGNoaWxkVmlldztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjaGlsZFZpZXcuaWQgPT09IFRLRFJBV0VSQ09OVEVOVCkge1xuICAgICAgICAgICAgZHJhd2VyLmRyYXdlckNvbnRlbnQgPSBjaGlsZFZpZXc7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHJlbW92ZUNoaWxkOiAocGFyZW50OiBOZ1ZpZXcsIGNoaWxkOiBOZ1ZpZXcpID0+IHtcbiAgICAgICAgY29uc3QgZHJhd2VyID0gPFJhZFNpZGVEcmF3ZXI+KDxhbnk+cGFyZW50KTtcbiAgICAgICAgY29uc3QgY2hpbGRWaWV3ID0gPGFueT5jaGlsZDtcblxuICAgICAgICBpZiAoY2hpbGRWaWV3LmlkID09PSBUS01BSU5DT05URU5UKSB7XG4gICAgICAgICAgICBkcmF3ZXIubWFpbkNvbnRlbnQgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoaWxkVmlldy5pZCA9PT0gVEtEUkFXRVJDT05URU5UKSB7XG4gICAgICAgICAgICBkcmF3ZXIuZHJhd2VyQ29udGVudCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9LFxufTtcblxuLyoqXG4gKiBEaXJlY3RpdmVzIGlkZW50aWZ5aW5nIHRoZSBSYWRTaWRlRHJhd2VyLlxuICovXG5leHBvcnQgY29uc3QgU0lERURSQVdFUl9ESVJFQ1RJVkVTID0gW1JhZFNpZGVEcmF3ZXJDb21wb25lbnQsIFRLRHJhd2VyQ29udGVudERpcmVjdGl2ZSwgVEtNYWluQ29udGVudERpcmVjdGl2ZV07XG5cbnJlZ2lzdGVyRWxlbWVudChcIlJhZFNpZGVEcmF3ZXJcIiwgKCkgPT4gUmFkU2lkZURyYXdlciwgc2lkZURyYXdlck1ldGEpO1xuXG4vKipcbiAqIE5nTW9kdWxlIGNvbnRhaW5pbmcgYWxsIG9mIHRoZSBSYWRTaWRlRHJhd2VyIGRpcmVjdGl2ZXMuXG4gKi9cbkBOZ01vZHVsZSh7XG4gICAgZGVjbGFyYXRpb25zOiBbU0lERURSQVdFUl9ESVJFQ1RJVkVTXSxcbiAgICBleHBvcnRzOiBbU0lERURSQVdFUl9ESVJFQ1RJVkVTXVxufSlcbmV4cG9ydCBjbGFzcyBOYXRpdmVTY3JpcHRVSVNpZGVEcmF3ZXJNb2R1bGUge1xufVxuIl19